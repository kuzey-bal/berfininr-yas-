<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Berfinâ€™in RÃ¼yasÄ±</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(to bottom, #1a0033, #000);
      color: white;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      overflow: hidden;
    }

    .game-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 600px;
      padding: 20px;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
    }

    h1 {
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #a76cf1; }
      to { text-shadow: 0 0 25px #d9b3ff; }
    }

    p {
      font-size: 1.2em;
      line-height: 1.6;
    }

    button {
      margin: 10px;
      padding: 12px 30px;
      font-size: 1em;
      background-color: #a76cf1;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: white;
      transition: 0.3s;
    }

    button:hover {
      background-color: #c38aff;
      transform: scale(1.05);
    }

    canvas {
      display: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="game-container" id="game">
    <h1>ðŸŒ™ Berfinâ€™in RÃ¼yasÄ± ðŸŒ™</h1>
    <p>Berfin derin bir uykuya dalar... GÃ¶zlerini aÃ§tÄ±ÄŸÄ±nda kendini bÃ¼yÃ¼lÃ¼ bir yerde bulur.</p>
    <button onclick="choose(1)">Parlayan yola git</button>
    <button onclick="choose(2)">Sisli ormana yÃ¶nel</button>
  </div>

  <canvas id="cryCanvas" width="300" height="200"></canvas>

  <script>
    const game = document.getElementById('game');
    const cryCanvas = document.getElementById('cryCanvas');
    const ctx = cryCanvas.getContext('2d');

    function showScene(title, text, options) {
      cryCanvas.style.display = "none";
      game.innerHTML = <h1>${title}</h1><p>${text}</p>;
      options.forEach(opt => {
        const btn = document.createElement('button');
        btn.textContent = opt.text;
        btn.onclick = opt.action;
        game.appendChild(btn);
      });
    }

    function choose(option) {
      if (option === 1) {
        showScene(
          "âœ¨ Parlayan Yol âœ¨",
          "Yol boyunca yÄ±ldÄ±zlar sana yol gÃ¶steriyor. Uzakta bir melodi duyuyorsun. Sesin sahibi Kuzey adÄ±nda biri...",
          [
            { text: "Sese doÄŸru git", action: () => sceneKuzey() },
            { text: "Sessizce bekle", action: () => sceneKuzeyCry("Berfin sessiz kalÄ±nca, Kuzey uzakta aÄŸlamaya baÅŸlar...") }
          ]
        );
      } else {
        showScene(
          "ðŸŒ« Sisli Orman ðŸŒ«",
          "Sis arasÄ±nda bir siluet beliriyor. â€˜Berfin, beni bulâ€™ diyen bir ses... Bu bir iÅŸaret mi?",
          [
            { text: "Sese gÃ¼ven", action: () => sceneKuzey() },
            { text: "Yoldan geri dÃ¶n", action: () => sceneKuzeyCry("Berfin geri dÃ¶nerken, Kuzeyâ€™in gÃ¶zlerinden yaÅŸlar sÃ¼zÃ¼lÃ¼r...") }
          ]
        );
      }
    }

    function sceneKuzey() {
      showScene(
        "ðŸ’« Kuzeyâ€™in BahÃ§esi ðŸ’«",
        "Berfin, Kuzeyâ€™i bulur. RÃ¼yada tanÄ±ÅŸÄ±rlar, ama sanki onu hep tanÄ±yormuÅŸ gibi hisseder. Kuzey ona bir soru sorar: â€˜Berfin, bu rÃ¼yanÄ±n bitmesini ister misin?â€™",
        [
          { text: "Evet, uyanmak istiyorum", action: () => normalEnding() },
          { text: "HayÄ±r, seninle kalmak istiyorum", action: () => happyEnding() }
        ]
      );
    }

    function sceneKuzeyCry(message) {
      showScene("ðŸ˜¢ Kuzey AÄŸlÄ±yor ðŸ˜¢", message, [
        { text: "Kuzeyâ€™e dÃ¶n", action: () => location.reload() }
      ]);
      startCryingAnimation();
    }

    function normalEnding() {
      showScene(
        "â˜€ UyanÄ±ÅŸ â˜€",
        "Berfin gÃ¶zlerini aÃ§ar. GÃ¼neÅŸ doÄŸmuÅŸtur, ama rÃ¼yasÄ±nda duyduÄŸu o sesi asla unutamaz... Kuzey.",
        [
          { text: "RÃ¼yaya geri dÃ¶n", action: () => location.reload() }
        ]
      );
    }

    function happyEnding() {
      showScene(
        "ðŸ’ Mutlu Son ðŸ’",
        "Berfin ve Kuzey rÃ¼yanÄ±n iÃ§inde el ele tutuÅŸurlar. RÃ¼ya artÄ±k bitmez, Ã§Ã¼nkÃ¼ gerÃ§ek olmuÅŸtur. Ve Berfin, Kuzey Balatâ€™la evlenir.",
        [
          { text: "ðŸ’– Tekrar oyna", action: () => location.reload() }
        ]
      );
    }

    // ðŸŽ¨ AÄŸlayan Kuzey animasyonu
    function startCryingAnimation() {
      cryCanvas.style.display = "block";
      let tears = Array.from({ length: 10 }, () => ({
        x: 140 + Math.random() * 20,
        y: 70 + Math.random() * 20,
        speed: 1 + Math.random() * 2
      }));

      function drawFace() {
        ctx.clearRect(0, 0, cryCanvas.width, cryCanvas.height);

        // YÃ¼z
        ctx.fillStyle = "#f2d0ff";
        ctx.beginPath();
        ctx.arc(150, 100, 50, 0, Math.PI * 2);
        ctx.fill();

        // GÃ¶zler
        ctx.fillStyle = "#000";
        ctx.beginPath();
        ctx.arc(130, 90, 8, 0, Math.PI * 2);
        ctx.arc(170, 90, 8, 0, Math.PI * 2);
        ctx.fill();

        // AÄŸÄ±z
        ctx.strokeStyle = "#000";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.arc(150, 115, 15, 0, Math.PI, true);
        ctx.stroke();

        // GÃ¶zyaÅŸlarÄ±
        ctx.fillStyle = "#6ec6ff";
        tears.forEach(t => {
          ctx.beginPath();
          ctx.arc(t.x, t.y, 3, 0, Math.PI * 2);
          ctx.fill();
          t.y += t.speed;
          if (t.y > 150) t.y = 90;
        });

        requestAnimationFrame(drawFace);
      }

      drawFace();
    }
  </script>
</body>
</html>
